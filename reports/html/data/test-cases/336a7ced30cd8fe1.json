{
  "uid" : "336a7ced30cd8fe1",
  "name" : "test_test_scene_1[test_case2]",
  "fullName" : "testCases.test_invoice_manage1_Test_scene_1#test_test_scene_1",
  "historyId" : "283a50c9a682f551992933bdac73af3a",
  "time" : {
    "start" : 1655457071455,
    "stop" : 1655457071908,
    "duration" : 453
  },
  "status" : "passed",
  "flaky" : false,
  "newFailed" : false,
  "newBroken" : false,
  "newPassed" : false,
  "retriesCount" : 0,
  "retriesStatusChange" : false,
  "beforeStages" : [ {
    "name" : "login_manage",
    "time" : {
      "start" : 1655457069799,
      "stop" : 1655457071018,
      "duration" : 1219
    },
    "status" : "passed",
    "steps" : [ ],
    "attachments" : [ ],
    "parameters" : [ ],
    "stepsCount" : 0,
    "hasContent" : false,
    "attachmentsCount" : 0,
    "shouldDisplayMessage" : false
  } ],
  "testStage" : {
    "status" : "passed",
    "steps" : [ {
      "name" : "请求步骤: step_3, 接口名: updateInvoiceToConfirm",
      "time" : {
        "start" : 1655457071658,
        "stop" : 1655457071658,
        "duration" : 0
      },
      "status" : "passed",
      "steps" : [ ],
      "attachments" : [ {
        "uid" : "988dc39bb66fbaf7",
        "name" : "请求方法",
        "source" : "988dc39bb66fbaf7.attach",
        "type" : "text/plain",
        "size" : 4
      }, {
        "uid" : "a1343d25addc088b",
        "name" : "请求地址",
        "source" : "a1343d25addc088b.attach",
        "type" : "text/plain",
        "size" : 81
      }, {
        "uid" : "c43687da17f0c3cd",
        "name" : "请求头",
        "source" : "c43687da17f0c3cd.attach",
        "type" : "text/plain",
        "size" : 93
      }, {
        "uid" : "cc44f036f0a509b9",
        "name" : "请求参数",
        "source" : "cc44f036f0a509b9.attach",
        "type" : "text/plain",
        "size" : 2166
      } ],
      "parameters" : [ ],
      "stepsCount" : 0,
      "hasContent" : true,
      "attachmentsCount" : 4,
      "shouldDisplayMessage" : false
    }, {
      "name" : "check_json: code校验",
      "time" : {
        "start" : 1655457071893,
        "stop" : 1655457071908,
        "duration" : 15
      },
      "status" : "passed",
      "steps" : [ ],
      "attachments" : [ {
        "uid" : "a8150fd9cdc41a7f",
        "name" : "预期响应码: ",
        "source" : "a8150fd9cdc41a7f.attach",
        "type" : "text/plain",
        "size" : 3
      }, {
        "uid" : "a6c604fd387fe32e",
        "name" : "实际响应码: ",
        "source" : "a6c604fd387fe32e.attach",
        "type" : "text/plain",
        "size" : 3
      } ],
      "parameters" : [ ],
      "stepsCount" : 0,
      "hasContent" : true,
      "attachmentsCount" : 2,
      "shouldDisplayMessage" : false
    }, {
      "name" : "check_json: data校验",
      "time" : {
        "start" : 1655457071908,
        "stop" : 1655457071908,
        "duration" : 0
      },
      "status" : "passed",
      "steps" : [ ],
      "attachments" : [ {
        "uid" : "2f28b9df903a5e6a",
        "name" : "校验方式: ",
        "source" : "2f28b9df903a5e6a.attach",
        "type" : "text/plain",
        "size" : 13
      }, {
        "uid" : "5aa2ff38e16e0021",
        "name" : "预期结果: ",
        "source" : "5aa2ff38e16e0021.attach",
        "type" : "text/plain",
        "size" : 89
      }, {
        "uid" : "d4a6fd82ad9908ac",
        "name" : "实际结果: ",
        "source" : "d4a6fd82ad9908ac.attach",
        "type" : "text/plain",
        "size" : 89
      } ],
      "parameters" : [ ],
      "stepsCount" : 0,
      "hasContent" : true,
      "attachmentsCount" : 3,
      "shouldDisplayMessage" : false
    } ],
    "attachments" : [ {
      "uid" : "8d17fa2efa7a7aff",
      "name" : "log",
      "source" : "8d17fa2efa7a7aff.txt",
      "type" : "text/plain",
      "size" : 11661
    } ],
    "parameters" : [ ],
    "stepsCount" : 3,
    "hasContent" : true,
    "attachmentsCount" : 10,
    "shouldDisplayMessage" : false
  },
  "afterStages" : [ ],
  "labels" : [ {
    "name" : "story",
    "value" : "test_test_scene_1"
  }, {
    "name" : "parentSuite",
    "value" : "testCases"
  }, {
    "name" : "suite",
    "value" : "test_invoice_manage1_Test_scene_1"
  }, {
    "name" : "host",
    "value" : "CN01XIT00000ZON"
  }, {
    "name" : "thread",
    "value" : "31112-MainThread"
  }, {
    "name" : "framework",
    "value" : "pytest"
  }, {
    "name" : "language",
    "value" : "cpython3"
  }, {
    "name" : "package",
    "value" : "testCases.test_invoice_manage1_Test_scene_1"
  }, {
    "name" : "resultFormat",
    "value" : "allure2"
  } ],
  "parameters" : [ {
    "name" : "test_case",
    "value" : "{'updateInvoiceToConfirm': {'step_3': {'script': {'request_header': {'Method': 'post', 'path': '/mage/manual/updateInvoiceToConfirm', 'Connection': 'keep-alive', 'timeout': 10, 'sleep_time': 0, 'is_login': True}, 'request_body': {'appId': 'IBCP', 'appKey': '123456', 'data': {'id': '$DB{id}', 'invoiceType': '1', 'invoiceHead': 1, 'erpCustCode': '', 'sysSource': 0, 'autoSendFlag': 1, 'ouName': '', 'ouCode': '', 'payTaxpayerName': 'muzili', 'payTaxpayerCode': '', 'payUnitAddress': '220610', 'payFixedPhoneNumber': '220610', 'businessNos': '$Req{addInvoiceToConfirm.data.businessNos}', 'mail': '220615', 'messagePhone': '220615', 'payBankName': '220610', 'payBankAccount': '220610', 'invoiceToConfirmDetailBOList': [{'businessNo': '$Req{addInvoiceToConfirm.data.invoiceToConfirmDetailBOList[0].businessNo}', 'bizDetailId': '$DB{b0_bizDetailId}', 'standards': '220610', 'goodsCount': 1, 'amtContainTax': 100, 'amtNotContainTax': 88.5, 'taxAmt': 11.5, 'goodsId': 206, 'goodsCode': '17122000041283', 'goodsName': '石狮子', 'goodsUnit': '只', 'taxUnitPrice': 100, 'notTaxUnitPrice': 88.5, 'taxClassificationId': 378, 'taxCode': '1020600000000000000', 'taxRate': 0.13, 'taxName': '矿产品', 'taxFullName': '其他矿产品', 'merchantId': '0000111008', 'shortTaxCode': '10206', 'confirmId': '$DB{b0_id}', '_X_ROW_KEY': 'row_5553'}, {'businessNo': '$Req{addInvoiceToConfirm.data.invoiceToConfirmDetailBOList[1].businessNo}', 'bizDetailId': '$DB{b1_bizDetailId}', 'standards': '220610', 'goodsCount': 2, 'amtContainTax': 200, 'amtNotContainTax': 176.99, 'taxAmt': 23.01, 'goodsId': 178, 'goodsCode': '963852741', 'goodsName': '收音机', 'goodsUnit': '件', 'taxUnitPrice': 100, 'notTaxUnitPrice': 88.495, 'taxClassificationId': 999, 'taxCode': '1090604040000000000', 'taxRate': 0.13, 'taxName': '黑色金属矿石', 'taxFullName': '铁矿石', 'merchantId': '0000111008', 'shortTaxCode': '1020301', 'confirmId': '$DB{b1_id}', '_X_ROW_KEY': 'row_5554'}], 'recTaxpayerId': 0, 'recTaxpayerName': '百鸣鸟装饰有限公司', 'recTaxpayerCode': '440001999999260', 'reviewer': '沙和尚', 'receiver': '猪八戒', 'openMan': '孙悟空', 'remarks': '2206101212', 'recUnitAddress': '中欧', 'recFixedPhoneNumber': '13688889999', 'recBankName': '中国农商银行佛山北滘支行', 'recBankAccount': '12353154656665', 'invoiceByHandFlag': '', 'amount': '', 'deviceId': '', 'deviceType': 1, 'amtNotContainTax': 265.49, 'taxAmt': 34.51, 'invoiceAmt': 300, 'blueInvoiceNo': '', 'blueInvoiceCode': '', 'redRushInfoNo': ''}}, 'check_body': {'check_json': {'check_type': 'perfect_match', 'expected_code': 200, 'expected_result': 'updateInvoiceToConfirm_response.json'}}}, 'data': {'sql': \"['select id from t_invoice_to_confirm where business_no = $Req{addInvoiceToConfirm.data.businessNos}',\\n'select id as b0_id, biz_detail_id as b0_bizDetailId from t_invoice_to_confirm_detail where business_no = $Req{addInvoiceToConfirm.data.invoiceToConfirmDetailBOList[0].businessNo}',\\n'select id as b1_id, biz_detail_id as b1_bizDetailId from t_invoice_to_confirm_detail where business_no = $Req{addInvoiceToConfirm.data.invoiceToConfirmDetailBOList[1].businessNo}']\"}}}}"
  } ],
  "links" : [ ],
  "hidden" : false,
  "retry" : false,
  "extra" : {
    "severity" : "normal",
    "retries" : [ ],
    "categories" : [ ],
    "tags" : [ ]
  },
  "source" : "336a7ced30cd8fe1.json",
  "parameterValues" : [ "{'updateInvoiceToConfirm': {'step_3': {'script': {'request_header': {'Method': 'post', 'path': '/mage/manual/updateInvoiceToConfirm', 'Connection': 'keep-alive', 'timeout': 10, 'sleep_time': 0, 'is_login': True}, 'request_body': {'appId': 'IBCP', 'appKey': '123456', 'data': {'id': '$DB{id}', 'invoiceType': '1', 'invoiceHead': 1, 'erpCustCode': '', 'sysSource': 0, 'autoSendFlag': 1, 'ouName': '', 'ouCode': '', 'payTaxpayerName': 'muzili', 'payTaxpayerCode': '', 'payUnitAddress': '220610', 'payFixedPhoneNumber': '220610', 'businessNos': '$Req{addInvoiceToConfirm.data.businessNos}', 'mail': '220615', 'messagePhone': '220615', 'payBankName': '220610', 'payBankAccount': '220610', 'invoiceToConfirmDetailBOList': [{'businessNo': '$Req{addInvoiceToConfirm.data.invoiceToConfirmDetailBOList[0].businessNo}', 'bizDetailId': '$DB{b0_bizDetailId}', 'standards': '220610', 'goodsCount': 1, 'amtContainTax': 100, 'amtNotContainTax': 88.5, 'taxAmt': 11.5, 'goodsId': 206, 'goodsCode': '17122000041283', 'goodsName': '石狮子', 'goodsUnit': '只', 'taxUnitPrice': 100, 'notTaxUnitPrice': 88.5, 'taxClassificationId': 378, 'taxCode': '1020600000000000000', 'taxRate': 0.13, 'taxName': '矿产品', 'taxFullName': '其他矿产品', 'merchantId': '0000111008', 'shortTaxCode': '10206', 'confirmId': '$DB{b0_id}', '_X_ROW_KEY': 'row_5553'}, {'businessNo': '$Req{addInvoiceToConfirm.data.invoiceToConfirmDetailBOList[1].businessNo}', 'bizDetailId': '$DB{b1_bizDetailId}', 'standards': '220610', 'goodsCount': 2, 'amtContainTax': 200, 'amtNotContainTax': 176.99, 'taxAmt': 23.01, 'goodsId': 178, 'goodsCode': '963852741', 'goodsName': '收音机', 'goodsUnit': '件', 'taxUnitPrice': 100, 'notTaxUnitPrice': 88.495, 'taxClassificationId': 999, 'taxCode': '1090604040000000000', 'taxRate': 0.13, 'taxName': '黑色金属矿石', 'taxFullName': '铁矿石', 'merchantId': '0000111008', 'shortTaxCode': '1020301', 'confirmId': '$DB{b1_id}', '_X_ROW_KEY': 'row_5554'}], 'recTaxpayerId': 0, 'recTaxpayerName': '百鸣鸟装饰有限公司', 'recTaxpayerCode': '440001999999260', 'reviewer': '沙和尚', 'receiver': '猪八戒', 'openMan': '孙悟空', 'remarks': '2206101212', 'recUnitAddress': '中欧', 'recFixedPhoneNumber': '13688889999', 'recBankName': '中国农商银行佛山北滘支行', 'recBankAccount': '12353154656665', 'invoiceByHandFlag': '', 'amount': '', 'deviceId': '', 'deviceType': 1, 'amtNotContainTax': 265.49, 'taxAmt': 34.51, 'invoiceAmt': 300, 'blueInvoiceNo': '', 'blueInvoiceCode': '', 'redRushInfoNo': ''}}, 'check_body': {'check_json': {'check_type': 'perfect_match', 'expected_code': 200, 'expected_result': 'updateInvoiceToConfirm_response.json'}}}, 'data': {'sql': \"['select id from t_invoice_to_confirm where business_no = $Req{addInvoiceToConfirm.data.businessNos}',\\n'select id as b0_id, biz_detail_id as b0_bizDetailId from t_invoice_to_confirm_detail where business_no = $Req{addInvoiceToConfirm.data.invoiceToConfirmDetailBOList[0].businessNo}',\\n'select id as b1_id, biz_detail_id as b1_bizDetailId from t_invoice_to_confirm_detail where business_no = $Req{addInvoiceToConfirm.data.invoiceToConfirmDetailBOList[1].businessNo}']\"}}}}" ]
}